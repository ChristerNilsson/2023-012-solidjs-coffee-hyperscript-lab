// Generated by CoffeeScript 2.5.1
var ILLEGALS, KNIGHT, KNIGHT_HOPS, QUEEN, S, TARGET, click, count, counts, illegals, knight, knightHops, makeCount, makeCounts, makeIllegals, makeKnight, makeKnightHops, makeMask, makeQueen, makeQueens, makeState, makeTaken, makeTarget, makeTargets, mask, queen, queens, setCount, setCounts, setIllegals, setKnight, setKnightHops, setMask, setQueen, setQueens, setState, setTaken, setTarget, setTargets, show, showCircles, showCounts, showPieces, showRects, state, state0, state1, taken, target, targets,
  indexOf = [].indexOf;

import _ from 'https://cdn.skypack.dev/lodash';

import {
  abs,
  N,
  col,
  row,
  log,
  Position,
  range,
  signal,
  effect,
  r4r
} from '/js/utils.js';

import {
  svg,
  rect,
  text,
  circle,
  g
} from '/js/utils.js';

QUEEN = '♛';

KNIGHT = '♘';

S = 40; // square size

[state, setState] = signal(-1); // 0 or 1

[queens, setQueens] = signal([]); // indexes

[queen, setQueen] = signal(-1); // index

[knight, setKnight] = signal(-1); // index 

[illegals, setIllegals] = signal([]); // indexes

[targets, setTargets] = signal([]); // indexes

[taken, setTaken] = signal(-1); // count

[target, setTarget] = signal(-1); // index

[knightHops, setKnightHops] = signal([]); // indexes

[count, setCount] = signal(0); // count

[counts, setCounts] = signal([]); // counts moves per square

[mask, setMask] = signal(0); // 0,1,2 or 3

show = (a, b) => {
  log(a, b);
  return b;
};

makeState = (state) => {
  return show('state', state);
};

makeQueens = () => { // anger de rutor som damen kan placeras på
  var c, cx, cy, dx, dy, j, k, len, len1, r, ref, ref1, ref2, res;
  cx = 7; // board center x
  cy = 7; // board center y
  res = [];
  ref = range(N);
  for (j = 0, len = ref.length; j < len; j++) {
    r = ref[j];
    ref1 = range(N);
    for (k = 0, len1 = ref1.length; k < len1; k++) {
      c = ref1[k];
      dx = abs(2 * c - cx);
      dy = abs(2 * r - cy);
      if ((ref2 = dx * dy) !== 3 && ref2 !== 7 && ref2 !== 9 && ref2 !== 15) {
        res.push(c + 8 * r);
      }
    }
  }
  res.sort(function(a, b) {
    return a - b;
  });
  return show('queens', res);
};

makeQueen = (queen) => {
  return show('queen', queen);
};

makeMask = (queen) => {
  return show('mask', (row(queen) + col(queen)) % 4);
};

makeIllegals = (queen) => {
  if (queen === -1) {
    return [];
  }
  return show('illegals', _.filter(range(N * N), (i) => {
    var ci, cq, dc, dr, ri, rq;
    ci = col(i);
    ri = row(i);
    cq = col(queen);
    rq = row(queen);
    dc = abs(ci - cq);
    dr = abs(ri - rq);
    return queen !== i && (ci === cq || ri === rq || dc === dr);
  }));
};

makeTargets = (illegals) => {
  var res;
  if (illegals === []) {
    return [];
  }
  res = range(N * N).filter((i) => {
    return !illegals.includes(i);
  });
  res.sort(function(a, b) {
    return b - a;
  });
  return show('targets', res);
};

makeTaken = (taken) => {
  var res;
  if (taken === 64) {
    res(-1);
  } else {
    res = taken;
  }
  return show('taken', res);
};

makeTarget = (target) => {
  return show('target', target);
};

makeCount = (count) => {
  return show('count', count);
};

makeCounts = (counts) => {
  return show('counts', counts);
};

makeKnight = (targets) => {
  if (targets.length === 64) {
    return -1;
  }
  return show('knight', targets[0]);
};

makeKnightHops = (knight) => {
  var c, c2, dc, dr, index, j, k, len, len1, r, r2, ref, ref1, res;
  if (knight === -1) {
    return [];
  }
  res = [];
  c = col(knight);
  r = row(knight);
  ref = [-2, -1, 1, 2];
  for (j = 0, len = ref.length; j < len; j++) {
    dc = ref[j];
    ref1 = [-2, -1, 1, 2];
    for (k = 0, len1 = ref1.length; k < len1; k++) {
      dr = ref1[k];
      if (abs(dc) === abs(dr)) {
        continue;
      }
      c2 = c + dc;
      r2 = r + dr;
      index = c2 + 8 * r2;
      if (indexOf.call(range(8), c2) >= 0 && indexOf.call(range(8), r2) >= 0 && indexOf.call(targets(), index) >= 0) {
        res.push(index);
      }
    }
  }
  res.sort(function(a, b) {
    return a - b;
  });
  return show('knightHops', res);
};

click = function(index) {
  if (state() === 0) {
    return state0(index);
  } else {
    return state1(index);
  }
};

state0 = (index) => { // handle queen clicks
  if (indexOf.call(queens(), index) >= 0) {
    setQueen(makeQueen(index));
    setMask(makeMask(queen()));
    setIllegals(makeIllegals(queen()));
    setTargets(makeTargets(illegals()));
    setTaken(makeTaken(1));
    setTarget(makeTarget(targets()[taken()]));
    setKnight(() => {
      return makeKnight(targets());
    });
    setKnightHops(makeKnightHops(knight()));
    setState(makeState(1));
    setCount(makeCount(0));
    return setCounts(makeCounts([]));
  } else {
    return log('not a valid queen position');
  }
};

state1 = (index) => { // handle knight clicks
  if (indexOf.call(knightHops(), index) >= 0) {
    setKnight(index);
    setKnightHops(makeKnightHops(knight()));
    setCount(makeCount(count() + 1));
    if (target() === index) {
      setTaken(makeTaken(taken() + 1));
      setTarget(makeTarget(targets()[taken()]));
      setCounts(makeCounts(_.concat(counts(), count())));
      return setCount(makeCount(0));
    }
  } else {
    return log('not a valid knight position');
  }
};

showRects = () => {
  var i, j, len, ref, results;
  ref = range(N * N);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(((i) => {
      var c, fill, height, r, width, x, y;
      r = 7 - row(i);
      c = col(i);
      x = S + S * c;
      y = S + S * r;
      width = S;
      height = S;
      fill = ['brown', 'gray'][(r + c) % 2];
      return rect({
        x,
        y,
        width,
        height,
        fill,
        onClick: () => {
          return click(i);
        }
      });
    })(i));
  }
  return results;
};

showPieces = (pieces, PIECE, props) => {
  var c, j, len, piece, r, results, x, y;
  results = [];
  for (j = 0, len = pieces.length; j < len; j++) {
    piece = pieces[j];
    if (piece !== -1) {
      r = 7 - row(piece);
      c = col(piece);
      x = S * (1.5 + c);
      y = S * (1.9 + r);
      results.push(((piece) => {
        var props1;
        props1 = _.merge({
          x,
          y,
          "text-anchor": "middle",
          "font-size": S,
          fill: "white",
          onClick: () => {
            return click(piece);
          }
        }, props);
        return text(props1, PIECE);
      })(piece));
    } else {
      results.push(void 0);
    }
  }
  return results;
};

showCircles = (circles, CIRCLE) => {
  var c, circ, cx, cy, j, len, r, results;
  results = [];
  for (j = 0, len = circles.length; j < len; j++) {
    circ = circles[j];
    if (circ === -1) {
      continue;
    }
    r = 7 - row(circ);
    c = col(circ);
    cx = S * (1.5 + c);
    cy = S * (1.5 + r);
    results.push(((circ) => {
      return circle(_.merge({
        cx,
        cy,
        r: 10,
        "stroke-width": 4,
        onClick: () => {
          return click(circ);
        }
      }, CIRCLE));
    })(circ));
  }
  return results;
};

showCounts = (counts) => {
  var c, counter, index, j, len, r, ref, results, t, x, y;
  ref = range(counts.length);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    index = ref[j];
    counter = counts[index];
    t = targets()[index];
    r = 7 - row(t);
    c = col(t);
    x = S * (1.5 + c);
    y = S * (1.8 + r);
    results.push(((counter) => {
      return text({
        x,
        y,
        "text-anchor": "middle",
        "font-size": 0.7 * S,
        fill: "black",
        onClick: () => {
          return click(counter);
        }
      }, counter);
    })(counter));
  }
  return results;
};

setState(makeState(0));

setQueens(makeQueens());

TARGET = {
  stroke: "yellow",
  fill: "none"
};

ILLEGALS = {
  stroke: "none",
  fill: "black"
};

KNIGHT_HOPS = {
  stroke: "none",
  fill: "white",
  r: 5
};

r4r(() => { // Har ej förstått varför TVÅ loopar behövs.
  return svg({
    viewBox: "0 0 400 400",
    width: 320,
    height: 320
  }, showRects(), () => {
    if (state() === 0) {
      return showPieces(queens(), QUEEN, {
        fill: "black"
      });
    }
  }, () => {
    if (state() === 1) {
      return g({}, showCounts(counts()), showPieces([queen()], QUEEN, {
        fill: "black"
      }), showPieces([knight()], KNIGHT, {
        fill: "white"
      }), showCircles([target()], TARGET), mask() & 1 ? showCircles(illegals(), ILLEGALS) : void 0, mask() & 2 ? showCircles(knightHops(), KNIGHT_HOPS) : void 0);
    }
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoNy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxza2V0Y2g3LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsY0FBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsYUFBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLFVBQUEsRUFBQSxJQUFBLEVBQUEsV0FBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQTtFQUFBOztBQUFBLE9BQU8sQ0FBUCxNQUFBOztBQUNBLE9BQUE7RUFBUSxHQUFSO0VBQVksQ0FBWjtFQUFjLEdBQWQ7RUFBa0IsR0FBbEI7RUFBc0IsR0FBdEI7RUFBMEIsUUFBMUI7RUFBbUMsS0FBbkM7RUFBeUMsTUFBekM7RUFBZ0QsTUFBaEQ7RUFBdUQsR0FBdkQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxHQUFSO0VBQVksSUFBWjtFQUFpQixJQUFqQjtFQUFzQixNQUF0QjtFQUE2QixDQUE3QjtDQUFBLE1BQUE7O0FBRUEsS0FBQSxHQUFROztBQUNSLE1BQUEsR0FBUzs7QUFDVCxDQUFBLEdB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OUI7SUFBbUMsTUFBQSxFQUFPO0VBQTFDLENBQUosRUFDQyxTQUFBLENBQUEsQ0FERCxFQUVDLENBQUEsQ0FBQSxHQUFBO0lBQUcsSUFBRyxLQUFBLENBQUEsQ0FBQSxLQUFXLENBQWQ7YUFBcUIsVUFBQSxDQUFXLE1BQUEsQ0FBQSxDQUFYLEVBQW9CLEtBQXBCLEVBQTJCO1FBQUMsSUFBQSxFQUFLO01BQU4sQ0FBM0IsRUFBckI7O0VBQUgsQ0FGRCxFQUdDLENBQUEsQ0FBQSxHQUFBO0lBQUcsSUFBRyxLQUFBLENBQUEsQ0FBQSxLQUFXLENBQWQ7YUFDRixDQUFBLENBQUUsQ0FBQSxDQUFGLEVBQ0MsVUFBQSxDQUFXLE1BQUEsQ0FBQSxDQUFYLENBREQsRUFFQyxVQUFBLENBQVcsQ0FBQyxLQUFBLENBQUEsQ0FBRCxDQUFYLEVBQXNCLEtBQXRCLEVBQTZCO1FBQUMsSUFBQSxFQUFLO01BQU4sQ0FBN0IsQ0FGRCxFQUdDLFVBQUEsQ0FBVyxDQUFDLE1BQUEsQ0FBQSxDQUFELENBQVgsRUFBdUIsTUFBdkIsRUFBK0I7UUFBQyxJQUFBLEVBQUs7TUFBTixDQUEvQixDQUhELEVBSUMsV0FBQSxDQUFZLENBQUMsTUFBQSxDQUFBLENBQUQsQ0FBWixFQUF1QixNQUF2QixDQUpELEVBS0ksSUFBQSxDQUFBLENBQUEsR0FBUyxDQUFaLEdBQW1CLFdBQUEsQ0FBWSxRQUFBLENBQUEsQ0FBWixFQUF1QixRQUF2QixDQUFuQixHQUFBLE1BTEQsRUFNSSxJQUFBLENBQUEsQ0FBQSxHQUFTLENBQVosR0FBbUIsV0FBQSxDQUFZLFVBQUEsQ0FBQSxDQUFaLEVBQXlCLFdBQXpCLENBQW5CLEdBQUEsTUFORCxFQURFOztFQUFILENBSEQ7QUFERyxDQUFKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvbG9kYXNoJ1xyXG5pbXBvcnQge2FicyxOLGNvbCxyb3csbG9nLFBvc2l0aW9uLHJhbmdlLHNpZ25hbCxlZmZlY3QscjRyfSBmcm9tICcvanMvdXRpbHMuanMnXHJcbmltcG9ydCB7c3ZnLHJlY3QsdGV4dCxjaXJjbGUsZ30gZnJvbSAnL2pzL3V0aWxzLmpzJ1xyXG5cclxuUVVFRU4gPSAn4pmbJ1xyXG5LTklHSFQgPSAn4pmYJ1xyXG5TID0gNDAgIyBzcXVhcmUgc2l6ZVxyXG5cclxuW3N0YXRlLHNldFN0YXRlXSA9IHNpZ25hbCAtMSAjIDAgb3IgMVxyXG5bcXVlZW5zLHNldFF1ZWVuc10gPSBzaWduYWwgW10gIyBpbmRleGVzXHJcbltxdWVlbixzZXRRdWVlbl0gPSBzaWduYWwgLTEgIyBpbmRleFxyXG5ba25pZ2h0LHNldEtuaWdodF0gPSBzaWduYWwgLTEgIyBpbmRleCBcclxuW2lsbGVnYWxzLCBzZXRJbGxlZ2Fsc10gPSBzaWduYWwgW10gIyBpbmRleGVzXHJcblt0YXJnZXRzLCBzZXRUYXJnZXRzXSA9IHNpZ25hbCBbXSAjIGluZGV4ZXNcclxuW3Rha2VuLCBzZXRUYWtlbl0gPSBzaWduYWwgLTEgIyBjb3VudFxyXG5bdGFyZ2V0LCBzZXRUYXJnZXRdID0gc2lnbmFsIC0xICMgaW5kZXhcclxuW2tuaWdodEhvcHMsIHNldEtuaWdodEhvcHNdID0gc2lnbmFsIFtdICMgaW5kZXhlc1xyXG5bY291bnQsc2V0Q291bnRdID0gc2lnbmFsIDAgIyBjb3VudFxyXG5bY291bnRzLCBzZXRDb3VudHNdID0gc2lnbmFsIFtdICMgY291bnRzIG1vdmVzIHBlciBzcXVhcmVcclxuW21hc2ssc2V0TWFza10gPSBzaWduYWwgMCAjIDAsMSwyIG9yIDNcclxuXHJcbnNob3cgPSAoYSxiKSA9PlxyXG5cdGxvZyBhLGJcclxuXHRiXHJcblxyXG5tYWtlU3RhdGUgPSAoc3RhdGUpID0+IHNob3cgJ3N0YXRlJywgc3RhdGVcclxuXHJcbm1ha2VRdWVlbnMgPSA9PiAjIGFuZ2VyIGRlIHJ1dG9yIHNvbSBkYW1lbiBrYW4gcGxhY2VyYXMgcMOlXHJcblx0Y3ggPSA3ICMgYm9hcmQgY2VudGVyIHhcclxuXHRjeSA9IDcgIyBib2FyZCBjZW50ZXIgeVxyXG5cdHJlcyA9IFtdXHJcblx0Zm9yIHIgaW4gcmFuZ2UgTlxyXG5cdFx0Zm9yIGMgaW4gcmFuZ2UgTlxyXG5cdFx0XHRkeCA9IGFicyAyKmMgLSBjeFxyXG5cdFx0XHRkeSA9IGFicyAyKnIgLSBjeVxyXG5cdFx0XHRpZiBkeCAqIGR5IG5vdCBpbiBbMyw3LDksMTVdIHRoZW4gcmVzLnB1c2ggYys4KnJcclxuXHRyZXMuc29ydCAoYSxiKSAtPiBhLWJcclxuXHRzaG93ICdxdWVlbnMnLCByZXNcclxuXHJcbm1ha2VRdWVlbiA9IChxdWVlbikgPT4gc2hvdyAncXVlZW4nLCBxdWVlblxyXG5cclxubWFrZU1hc2sgPSAocXVlZW4pID0+IHNob3cgJ21hc2snLCAocm93KHF1ZWVuKStjb2wocXVlZW4pKSAlIDRcclxuXHJcbm1ha2VJbGxlZ2FscyA9IChxdWVlbikgPT5cclxuXHRpZiBxdWVlbj09LTEgdGhlbiByZXR1cm4gW11cclxuXHRzaG93ICdpbGxlZ2FscycsIF8uZmlsdGVyIHJhbmdlKE4qTiksIChpKSA9PlxyXG5cdFx0Y2kgPSBjb2wgaVxyXG5cdFx0cmkgPSByb3cgaVxyXG5cdFx0Y3EgPSBjb2wgcXVlZW5cclxuXHRcdHJxID0gcm93IHF1ZWVuXHJcblx0XHRkYyA9IGFicyBjaSAtIGNxXHJcblx0XHRkciA9IGFicyByaSAtIHJxXHJcblx0XHRxdWVlbiAhPSBpIGFuZCAoY2kgPT0gY3Egb3IgcmkgPT0gcnEgb3IgZGMgPT0gZHIpXHJcblxyXG5tYWtlVGFyZ2V0cyA9IChpbGxlZ2Fscyk9PlxyXG5cdGlmIGlsbGVnYWxzPT1bXSB0aGVuIHJldHVybiBbXVxyXG5cdHJlcyA9IHJhbmdlKE4qTikuZmlsdGVyIChpKSA9PiBub3QgaWxsZWdhbHMuaW5jbHVkZXMgaVxyXG5cdHJlcy5zb3J0IChhLGIpIC0+IGItYVxyXG5cdHNob3cgJ3RhcmdldHMnLCByZXNcclxuXHJcbm1ha2VUYWtlbiA9ICh0YWtlbikgPT5cclxuXHRpZiB0YWtlbj09NjQgdGhlbiByZXMgLTEgZWxzZSByZXMgPSB0YWtlblxyXG5cdHNob3cgJ3Rha2VuJywgcmVzXHJcblxyXG5tYWtlVGFyZ2V0ID0gKHRhcmdldCkgPT4gc2hvdyAndGFyZ2V0JywgdGFyZ2V0XHJcbm1ha2VDb3VudCA9IChjb3VudCkgPT4gc2hvdyAnY291bnQnLCBjb3VudFxyXG5tYWtlQ291bnRzID0gKGNvdW50cykgPT4gc2hvdyAnY291bnRzJywgY291bnRzXHJcblxyXG5tYWtlS25pZ2h0ID0gKHRhcmdldHMpID0+XHJcblx0aWYgdGFyZ2V0cy5sZW5ndGg9PTY0IHRoZW4gcmV0dXJuIC0xXHJcblx0c2hvdyAna25pZ2h0JywgdGFyZ2V0c1swXVxyXG5cclxubWFrZUtuaWdodEhvcHMgPSAoa25pZ2h0KSA9PlxyXG5cdGlmIGtuaWdodD09LTEgdGhlbiByZXR1cm4gW11cclxuXHRyZXMgPSBbXVxyXG5cdGMgPSBjb2wga25pZ2h0XHJcblx0ciA9IHJvdyBrbmlnaHRcclxuXHRmb3IgZGMgaW4gWy0yLC0xLDEsMl1cclxuXHRcdGZvciBkciBpbiBbLTIsLTEsMSwyXVxyXG5cdFx0XHRpZiBhYnMoZGMpID09IGFicyhkcikgdGhlbiBjb250aW51ZVxyXG5cdFx0XHRjMiA9IGMgKyBkY1xyXG5cdFx0XHRyMiA9IHIgKyBkclxyXG5cdFx0XHRpbmRleCA9IGMyKzgqcjJcclxuXHRcdFx0aWYgYzIgaW4gcmFuZ2UoOCkgYW5kIHIyIGluIHJhbmdlKDgpIGFuZCBpbmRleCBpbiB0YXJnZXRzKClcclxuXHRcdFx0XHRyZXMucHVzaCBpbmRleFxyXG5cdHJlcy5zb3J0IChhLGIpIC0+IGEtYlxyXG5cdHNob3cgJ2tuaWdodEhvcHMnLCByZXNcclxuXHJcbmNsaWNrID0gKGluZGV4KSAtPlxyXG5cdGlmIHN0YXRlKCkgPT0gMCB0aGVuIHN0YXRlMCBpbmRleFxyXG5cdGVsc2Ugc3RhdGUxIGluZGV4XHJcblxyXG5zdGF0ZTAgPSAoaW5kZXgpID0+ICMgaGFuZGxlIHF1ZWVuIGNsaWNrc1xyXG5cdGlmIGluZGV4IGluIHF1ZWVucygpXHJcblx0XHRzZXRRdWVlbiBtYWtlUXVlZW4gaW5kZXhcclxuXHRcdHNldE1hc2sgbWFrZU1hc2sgcXVlZW4oKVxyXG5cdFx0c2V0SWxsZWdhbHMgbWFrZUlsbGVnYWxzIHF1ZWVuKClcclxuXHRcdHNldFRhcmdldHMgbWFrZVRhcmdldHMgaWxsZWdhbHMoKVxyXG5cdFx0c2V0VGFrZW4gbWFrZVRha2VuIDFcclxuXHRcdHNldFRhcmdldCBtYWtlVGFyZ2V0IHRhcmdldHMoKVt0YWtlbigpXVxyXG5cdFx0c2V0S25pZ2h0ID0+IG1ha2VLbmlnaHQgdGFyZ2V0cygpXHJcblx0XHRzZXRLbmlnaHRIb3BzIG1ha2VLbmlnaHRIb3BzIGtuaWdodCgpXHJcblx0XHRzZXRTdGF0ZSBtYWtlU3RhdGUgMVxyXG5cdFx0c2V0Q291bnQgbWFrZUNvdW50IDBcclxuXHRcdHNldENvdW50cyBtYWtlQ291bnRzIFtdXHJcblx0ZWxzZSBsb2cgJ25vdCBhIHZhbGlkIHF1ZWVuIHBvc2l0aW9uJ1xyXG5cdFx0XHJcbnN0YXRlMSA9IChpbmRleCkgPT4gIyBoYW5kbGUga25pZ2h0IGNsaWNrc1xyXG5cdGlmIGluZGV4IGluIGtuaWdodEhvcHMoKVxyXG5cdFx0c2V0S25pZ2h0IGluZGV4XHJcblx0XHRzZXRLbmlnaHRIb3BzIG1ha2VLbmlnaHRIb3BzIGtuaWdodCgpXHJcblx0XHRzZXRDb3VudCBtYWtlQ291bnQgY291bnQoKSArIDFcclxuXHRcdGlmIHRhcmdldCgpID09IGluZGV4XHJcblx0XHRcdHNldFRha2VuIG1ha2VUYWtlbiB0YWtlbigpICsgMVxyXG5cdFx0XHRzZXRUYXJnZXQgbWFrZVRhcmdldCB0YXJnZXRzKClbdGFrZW4oKV1cclxuXHRcdFx0c2V0Q291bnRzIG1ha2VDb3VudHMgXy5jb25jYXQgY291bnRzKCksIGNvdW50KClcclxuXHRcdFx0c2V0Q291bnQgbWFrZUNvdW50IDBcclxuXHRlbHNlIGxvZyAnbm90IGEgdmFsaWQga25pZ2h0IHBvc2l0aW9uJ1xyXG5cclxuc2hvd1JlY3RzID0gPT5cclxuXHRmb3IgaSBpbiByYW5nZSBOKk5cclxuXHRcdGRvIChpKSA9PlxyXG5cdFx0XHRyID0gNyAtIHJvdyBpXHJcblx0XHRcdGMgPSBjb2wgaVxyXG5cdFx0XHR4ID0gUyArIFMqY1xyXG5cdFx0XHR5ID0gUyArIFMqclxyXG5cdFx0XHR3aWR0aCA9IFNcclxuXHRcdFx0aGVpZ2h0ID0gU1xyXG5cdFx0XHRmaWxsID0gWydicm93bicsJ2dyYXknXVsocitjKSAlIDJdXHJcblx0XHRcdHJlY3Qge3gsIHksIHdpZHRoLCBoZWlnaHQsIGZpbGwsIG9uQ2xpY2s6ID0+IGNsaWNrIGl9XHJcblxyXG5zaG93UGllY2VzID0gKHBpZWNlcyxQSUVDRSxwcm9wcykgPT5cclxuXHRmb3IgcGllY2UgaW4gcGllY2VzXHJcblx0XHRpZiBwaWVjZSAhPSAtMVxyXG5cdFx0XHRyID0gNyAtIHJvdyBwaWVjZVxyXG5cdFx0XHRjID0gY29sIHBpZWNlXHJcblx0XHRcdHggPSBTKigxLjUrYylcclxuXHRcdFx0eSA9IFMqKDEuOStyKVxyXG5cdFx0XHRkbyAocGllY2UpID0+XHJcblx0XHRcdFx0cHJvcHMxID0gXy5tZXJnZSB7eCwgeSwgXCJ0ZXh0LWFuY2hvclwiOlwibWlkZGxlXCIsIFwiZm9udC1zaXplXCI6UywgZmlsbDpcIndoaXRlXCIsIG9uQ2xpY2s6ID0+IGNsaWNrIHBpZWNlfSxwcm9wc1xyXG5cdFx0XHRcdHRleHQgcHJvcHMxLCBQSUVDRVxyXG5cclxuc2hvd0NpcmNsZXMgPSAoY2lyY2xlcyxDSVJDTEUpID0+XHJcblx0Zm9yIGNpcmMgaW4gY2lyY2xlc1xyXG5cdFx0aWYgY2lyYyA9PSAtMSB0aGVuIGNvbnRpbnVlXHJcblx0XHRyID0gNyAtIHJvdyBjaXJjXHJcblx0XHRjID0gY29sIGNpcmNcclxuXHRcdGN4ID0gUyooMS41K2MpXHJcblx0XHRjeSA9IFMqKDEuNStyKVxyXG5cdFx0ZG8gKGNpcmMpID0+XHJcblx0XHRcdGNpcmNsZSBfLm1lcmdlIHtjeCwgY3ksIHI6MTAsIFwic3Ryb2tlLXdpZHRoXCI6NCwgb25DbGljazogPT4gY2xpY2sgY2lyY30sIENJUkNMRVxyXG5cclxuc2hvd0NvdW50cyA9IChjb3VudHMpID0+XHJcblx0Zm9yIGluZGV4IGluIHJhbmdlIGNvdW50cy5sZW5ndGhcclxuXHRcdGNvdW50ZXIgPSBjb3VudHNbaW5kZXhdICMgY291bnRcclxuXHRcdHQgPSB0YXJnZXRzKClbaW5kZXhdICMgdGFyZ2V0XHJcblx0XHRyID0gNyAtIHJvdyB0XHJcblx0XHRjID0gY29sIHRcclxuXHRcdHggPSBTKigxLjUrYylcclxuXHRcdHkgPSBTKigxLjgrcilcclxuXHRcdGRvIChjb3VudGVyKSA9PlxyXG5cdFx0XHR0ZXh0IHt4LCB5LCBcInRleHQtYW5jaG9yXCI6XCJtaWRkbGVcIiwgXCJmb250LXNpemVcIjowLjcqUywgZmlsbDpcImJsYWNrXCIsIG9uQ2xpY2s6ID0+IGNsaWNrIGNvdW50ZXJ9LCBjb3VudGVyXHJcblxyXG5zZXRTdGF0ZSBtYWtlU3RhdGUgMFxyXG5zZXRRdWVlbnMgbWFrZVF1ZWVucygpXHJcblxyXG5UQVJHRVQgICAgICA9IHtzdHJva2U6XCJ5ZWxsb3dcIiwgZmlsbDpcIm5vbmVcIn1cclxuSUxMRUdBTFMgICAgPSB7c3Ryb2tlOlwibm9uZVwiLCAgIGZpbGw6XCJibGFja1wifVxyXG5LTklHSFRfSE9QUyA9IHtzdHJva2U6XCJub25lXCIsICAgZmlsbDpcIndoaXRlXCIsIHI6NX1cclxuXHJcbnI0ciA9PiAjIEhhciBlaiBmw7Zyc3TDpXR0IHZhcmbDtnIgVFbDhSBsb29wYXIgYmVow7Z2cy5cclxuXHRzdmcge3ZpZXdCb3g6XCIwIDAgNDAwIDQwMFwiLCB3aWR0aDozMjAsIGhlaWdodDozMjB9LFxyXG5cdFx0c2hvd1JlY3RzKClcclxuXHRcdD0+IGlmIHN0YXRlKCkgPT0gMCB0aGVuIHNob3dQaWVjZXMgcXVlZW5zKCksUVVFRU4sIHtmaWxsOlwiYmxhY2tcIn1cclxuXHRcdD0+IGlmIHN0YXRlKCkgPT0gMVxyXG5cdFx0XHRnIHt9LFxyXG5cdFx0XHRcdHNob3dDb3VudHMgY291bnRzKClcclxuXHRcdFx0XHRzaG93UGllY2VzIFtxdWVlbigpXSwgUVVFRU4sIHtmaWxsOlwiYmxhY2tcIn1cclxuXHRcdFx0XHRzaG93UGllY2VzIFtrbmlnaHQoKV0sIEtOSUdIVCwge2ZpbGw6XCJ3aGl0ZVwifVxyXG5cdFx0XHRcdHNob3dDaXJjbGVzIFt0YXJnZXQoKV0sVEFSR0VUXHJcblx0XHRcdFx0aWYgbWFzaygpICYgMSB0aGVuIHNob3dDaXJjbGVzIGlsbGVnYWxzKCksSUxMRUdBTFNcclxuXHRcdFx0XHRpZiBtYXNrKCkgJiAyIHRoZW4gc2hvd0NpcmNsZXMga25pZ2h0SG9wcygpLEtOSUdIVF9IT1BTXHJcbiJdfQ==
//# sourceURL=c:\github\2023-012-solidjs-coffee-hyperscript-lab\coffee\sketch7.coffee